(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(21),i=a.n(o),r=(a(98),a(8)),c=a(9),l=a(11),u=a(10),h=a(12),d=(a(99),a(100),a(101),a(37)),m=a.n(d);function g(e){this.Get=function(t){return m()({method:"get",url:e.ApiBaseUrl+t,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"true",ClientID:e.ClientID,Authorization:"Basic "+btoa(e.ClientUserName+":"+e.ClientPassword),"Cache-Control":"no-cache","accept-encoding":"gzip, deflate"}})},this.Post=function(t,a){return m()({method:"post",url:e.ApiBaseUrl+t,data:a,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"true",ClientID:e.ClientID,Authorization:"Basic "+btoa(e.ClientUserName+":"+e.ClientPassword),Accept:"*/*","Cache-Control":"no-cache","accept-encoding":"gzip, deflate"}})},this.GetUser=function(e){return this.Post("/api/users/get_user",e)},this.GetProfile=function(e,t){return this.GetUser({IncludeProfile:"true",UserID:e},t)},this.SetProfile=function(e,t,a){return this.Post("/api/users/set_user_profile",{UserID:e,Properties:t},a)},this.SetSettings=function(e,t){return this.Post("/api/users/set_user_settings",{UserID:e,Properties:t})},this.UploadPhoto=function(t,a){return m()({method:"post",url:e.ApiBaseUrl+"/api/users/upload_photo",data:t,headers:{"Content-Type":"multipart/formdata","Access-Control-Allow-Origin":"true",ClientID:e.ClientID,Authorization:"Basic "+btoa(e.ClientUserName+":"+e.ClientPassword),userid:a}})},this.GetUserPhotos=function(e){return this.Post("/api/users/get_user",{IncludePhotos:"true",UserID:e})},this.SetUserPhotos=function(e){return this.Post("/api/users/set_photos",e)},this.GetUserMatches=function(e){return this.Post("/api/matches/matches",{UserID:e})},this.ReadMessages=function(e,t){return this.Post("/api/messaging/read",{User1ID:e,User2ID:t})},this.SendMessage=function(e,t,a){return this.Post("/api/messaging/send",{From:e,To:t,Message:a})},this.RecordUserLocation=function(e,t,a){return this.Post("/api/users/record_user_location",{UserID:e,Lat:t,Lon:a})},this.PotentialMatches=function(e){return this.Post("/api/matches/potential_matches",{UserID:e})},this.Swipe=function(e,t,a){return this.Post("/api/matches/swipe",{UserFromID:e,UserToID:t,IsLike:a})},this.SearchUsers=function(e,t){var a={UserID:e,Filter:[]};return Object.keys(t).map(function(e,n){var s={Key:e,Value:t[e]};a.Filter.push(s)}),this.Post("/api/matches/search_users",a)}}function f(){this.DevMode=!1,this.ApiBaseUrl="http://165.22.73.20:5000",this.ClientID="FCD9DE9B-49FB-4D47-A064-20E666F3967F",this.ClientUserName="FCD9DE9B-49FB-4D47-A064-20E666F3967F",this.ClientPassword="Password1!"}a(120);function v(){function e(){window.fbAsyncInit(),window.FB.login(function(e){e.authResponse?window.FB.api("/me?fields=id,name,birthday,gender",function(e){try{var t=new f;localStorage.setItem("external_id",e.id),localStorage.setItem("idtype","facebook"),new g(t).Post("/api/users/login_or_signup",{User:{ExternalID:e.id,IdType:1,UserName:e.name,Birthday:e.birthday}}).then(function(e){localStorage.setItem("user",JSON.stringify(e.data.result.user)),window.location.reload()})}catch(a){console.log("An Exception was thrown while logging in via facebook"),console.log(a)}}):console.log("User cancelled login or did not fully authorize.")})}this.logout=function(){localStorage.clear(),window.User=null,window.location.reload()},this.logIn=function(t){switch(t){case"facebook":e();break;default:e()}},this.isLoggedIn=function(){return null!==localStorage.getItem("user")},this.getUser=function(){return JSON.parse(localStorage.getItem("user"))}}var p=a(157),E=(n.Component,a(35)),b=a(92),C=a(158),y=a(156),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props=e,a.login=new v,a.config=new f,a.sdk=new g(a.config),a.user=a.login.getUser(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setStateProperty",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).LogOutUser=function(){a.login.logout()},a.LogInUser=function(e){a.login.logIn(e)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return this.login.isLoggedIn()?(console.log("The user is logged in"),console.log(this.login.getUser()),e=s.a.createElement(C.a,{className:"mr-auto"},s.a.createElement(C.a.Link,{href:"/search"},"Search"),s.a.createElement(C.a.Link,{href:"/matches"},"Matches"),s.a.createElement(p.a,{title:"Account",id:"basic-nav-dropdown"},s.a.createElement(p.a.Item,{href:"/profile_editor"},"Profile Editor"),s.a.createElement(p.a.Item,{href:"/settings"},"Settings"),s.a.createElement(p.a.Item,{href:"/myphotos"},"My Photos")),s.a.createElement(C.a.Link,{href:"#",onClick:this.LogOutUser},"Log Out"))):e=s.a.createElement(C.a,null,s.a.createElement(p.a,{title:"Login",id:"basic-nav-dropdown"},s.a.createElement(p.a.Item,{href:"#",onClick:function(){t.LogInUser("facebook")}},"Facebook"))),s.a.createElement(y.a,{bg:"light",expand:"lg"},s.a.createElement(y.a.Brand,{href:"home"},"Dating App"),s.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},e))}}]),t}(k),S=a(6),j=(a(55),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){var t=a(55);e.connection=(new t.HubConnectionBuilder).withUrl("https://localhost:44387/chatHub").configureLogging(t.LogLevel.Information).build(),e.connection.on("ReceiveMessage",function(t,a,n){console.log("On ReceiveMessage"),console.log("from: "+t+"; to: "+a+"; message: "+n),e.addMessageToDisplay("from: "+t+"; to: "+a+"; message: "+n)}),e.connection.on("RegisterComplete",function(e,t){console.log("On RegisterComplete"),console.log("user"),console.log(e),console.log("message"),console.log(t)}),e.connection.start().then(function(){console.log("Connected")}).catch(function(e){console.log("connection start error"),console.log(e)})},e.state={},e.connection=null,e.registerConversation=e.registerConversation.bind(Object(S.a)(Object(S.a)(e))),e.sendMessage=e.sendMessage.bind(Object(S.a)(Object(S.a)(e))),e.addMessageToDisplay=e.addMessageToDisplay.bind(Object(S.a)(Object(S.a)(e))),e.unRegisterConversation=e.unRegisterConversation.bind(Object(S.a)(Object(S.a)(e))),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"addMessageToDisplay",value:function(e){var t=document.getElementById("messages"),a=document.createElement("li");a.appendChild(document.createTextNode(e)),t.appendChild(a)}},{key:"setStateProperty",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:"registerConversation",value:function(){this.state.from&&this.state.to&&this.connection.invoke("RegisterConversation",this.state.from,this.state.to).then(function(){console.log("RegisterConversation Success")}).catch(function(e){console.log("RegisterConversation Error"),console.log(e)})}},{key:"unRegisterConversation",value:function(){this.state.from&&this.state.to&&this.connection.invoke("UnRegisterConversation",this.state.from,this.state.to).then(function(){console.log("UnRegisterConversation Success")}).catch(function(e){console.log("UnRegisterConversation Error"),console.log(e)})}},{key:"sendMessage",value:function(){console.log(this.state),this.state.from&&this.state.to&&this.state.message&&this.connection.invoke("SendMessage",this.state.from,this.state.to,this.state.message).then(function(e){console.log("SendMessage Success")}).catch(function(e){console.log("SendMessage Error"),console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"The Lab"),s.a.createElement("div",null,"Here goes chat"),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"From"),s.a.createElement("div",{className:"col-6"},"To")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"B720EFB5-6DBC-4F5D-8AA8-D1516158B207",s.a.createElement("input",{type:"radio",value:"B720EFB5-6DBC-4F5D-8AA8-D1516158B207",name:"from",onClick:function(){e.setStateProperty("from","B720EFB5-6DBC-4F5D-8AA8-D1516158B207")}})),s.a.createElement("div",{className:"col-6"},"B720EFB5-6DBC-4F5D-8AA8-D1516158B207",s.a.createElement("input",{type:"radio",value:"B720EFB5-6DBC-4F5D-8AA8-D1516158B207",name:"to",onClick:function(){e.setStateProperty("to","B720EFB5-6DBC-4F5D-8AA8-D1516158B207")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"C5919193-4E0F-4984-92F7-F3F4C9DACFD9",s.a.createElement("input",{type:"radio",value:"C5919193-4E0F-4984-92F7-F3F4C9DACFD9",name:"from",onClick:function(){e.setStateProperty("from","C5919193-4E0F-4984-92F7-F3F4C9DACFD9")}})),s.a.createElement("div",{className:"col-6"},"C5919193-4E0F-4984-92F7-F3F4C9DACFD9",s.a.createElement("input",{type:"radio",value:"C5919193-4E0F-4984-92F7-F3F4C9DACFD9",name:"to",onClick:function(){e.setStateProperty("to","C5919193-4E0F-4984-92F7-F3F4C9DACFD9")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"A7BF0AAB-C3BC-4524-BCC3-FADE75585A66",s.a.createElement("input",{type:"radio",value:"A7BF0AAB-C3BC-4524-BCC3-FADE75585A66",name:"from",onClick:function(){e.setStateProperty("from","A7BF0AAB-C3BC-4524-BCC3-FADE75585A66")}})),s.a.createElement("div",{className:"col-6"},"A7BF0AAB-C3BC-4524-BCC3-FADE75585A66 ",s.a.createElement("input",{type:"radio",value:"A7BF0AAB-C3BC-4524-BCC3-FADE75585A66",name:"to",onClick:function(){e.setStateProperty("to","A7BF0AAB-C3BC-4524-BCC3-FADE75585A66")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"Message:"),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"text",id:"message",value:this.state.message,onChange:function(t){e.setStateProperty("message",t.target.value)}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"button",value:"Register",onClick:this.registerConversation}),s.a.createElement("input",{type:"button",value:"UnRegister",onClick:this.unRegisterConversation})),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{type:"button",value:"Send",onClick:this.sendMessage})))),s.a.createElement("ul",{id:"messages"}))}}]),t}(k)),U=a(22),w=a(155),D=a(84),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a.TryGetStateFromApi(),a.handleChange=a.handleChange.bind(Object(S.a)(Object(S.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(S.a)(Object(S.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"TryGetStateFromApi",value:function(){var e=this;this.sdk.GetProfile(this.user.id).then(function(t){t.data.Result&&(e.state=t.data.Result.Profile,e.setState(e.state))}).catch(function(e){console.log("error"),console.log(e)})}},{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.sdk.SetProfile(this.user.id,this.state).then(function(e){console.log(e)}).catch(function(e){console.log("Error retreiving user profile"),console.log(e)})}},{key:"render",value:function(){var e,t;return s.a.createElement("div",{style:{width:"80%",marginLeft:"auto",marginRight:"auto"}},s.a.createElement("h3",null,"ProfileEditor"),s.a.createElement(w.a,null,s.a.createElement(w.a.Group,{controlId:"Bio"},s.a.createElement(w.a.Label,null,"Bio"),s.a.createElement(w.a.Control,{as:"textarea",rows:"3",placeholder:"Let's talk about you...",name:"bio",value:this.state.bio,onChange:this.handleChange}),s.a.createElement(w.a.Text,{className:"text-muted"},"Tell us about yourself")),s.a.createElement(w.a.Group,{controlId:"Sex"},s.a.createElement(w.a.Label,null,"Sex \xa0 "),"M ",s.a.createElement("input",(e={type:"radio",value:"m",checked:this.state.sex&&"m"===this.state.sex?"checked":"",label:"M",name:"sex"},Object(U.a)(e,"value","m"),Object(U.a)(e,"onChange",this.handleChange),e)),"F ",s.a.createElement("input",(t={type:"radio",value:"f",checked:this.state.sex&&"f"===this.state.sex?"checked":"",label:"F",name:"sex"},Object(U.a)(t,"value","f"),Object(U.a)(t,"onChange",this.handleChange),t)),s.a.createElement(w.a.Text,{className:"text-muted"},"How were you born?")),s.a.createElement(w.a.Group,{controlId:"Gender"},s.a.createElement(w.a.Label,null,"Gender \xa0 "),"M ",s.a.createElement("input",{type:"radio",value:"m",checked:this.state.gender&&"m"===this.state.gender?"checked":"",label:"M",name:"gender",onChange:this.handleChange}),"F ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.gender&&"f"===this.state.gender?"checked":"",label:"F",name:"gender",onChange:this.handleChange}),s.a.createElement(w.a.Text,{className:"text-muted"},"How do you want others to identify you?")),s.a.createElement(w.a.Group,{controlId:"Dogs"},s.a.createElement(w.a.Label,null,"Love Dogs? \xa0 "),"Love Them ",s.a.createElement("input",{type:"radio",value:"t",checked:this.state.dogs&&"t"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),"Not A Fan ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.dogs&&"f"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),"Neutral ",s.a.createElement("input",{type:"radio",value:"n",checked:this.state.dogs&&"n"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),s.a.createElement(w.a.Text,{className:"text-muted"},"Do you love dogs?")),s.a.createElement(D.a,{variant:"primary",type:"submit",onClick:this.handleSubmit},"Submit")))}}]),t}(k),P=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",{className:"error_heading"},this.props.heading),s.a.createElement("div",{className:"error_message"},this.props.message))}}]),t}(n.Component),I=P,N=(a(54),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props=e,a.state={images:[],User:{Profile:[]}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sdk.GetUser({UserID:this.props.UserID,IncludeProfile:!0,IncludePhotos:!0}).then(function(t){if(t.data.Sucess){var a=e.formatUser(t.data.Result);e.state.User=a,e.setState(e.state)}}).catch(function(e){console.log("From get Photos ERROR"),console.log(e)})}},{key:"formatUser",value:function(e){if(e.Profile.sex&&(e.Profile.sex="f"==e.Profile.gender?"female":"male"),e.Profile.gender&&(e.Profile.gender="f"==e.Profile.gender?"female":"male"),e.Profile.dogs){var t=e.Profile.dogs;switch(t){case"t":t="Love Them";break;case"f":t="Not a fan";break;case"n":t="Neutral";break;default:t="Neutral"}e.Profile.dogs=t}return e.Birthday&&(e.Age=function(e){var t=new Date(e),a=Date.now()-t.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)}(e.Birthday)),e}},{key:"render",value:function(){var e=this,t=s.a.createElement("span",null);if(this.state.User.Photos){var a=this.config.ApiBaseUrl+"/api/users/get_photo?userid="+this.state.User.Photos[0].UserID+"&filename="+this.state.User.Photos[0].FileName;t=s.a.createElement("img",{style:{maxHeight:150},src:a})}return s.a.createElement("div",{style:{width:"60%"}},s.a.createElement("div",{className:"username row"},this.state.User.UserName),s.a.createElement("div",{className:"row"},this.state.User.Age," Years Old"),s.a.createElement("div",{className:"image_container row"},t),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"container"},Object.keys(this.state.User.Profile).map(function(t,a){return s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-1",key:a},t),s.a.createElement("div",{className:"col-11"}," ",e.state.User.Profile[t]))}))),s.a.createElement("div",{className:"swipe_container"},s.a.createElement("input",{type:"button",value:"No",onClick:this.props.onSelectNo}),s.a.createElement("input",{type:"button",value:"Yes",onClick:this.props.onSelectYes})))}}]),t}(k)),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a.TryGetStateFromApi=a.TryGetStateFromApi.bind(Object(S.a)(Object(S.a)(a))),a.handleChange=a.handleChange.bind(Object(S.a)(Object(S.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(S.a)(Object(S.a)(a))),a.TryGetStateFromApi(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"TryGetStateFromApi",value:function(){var e=this;this.sdk.GetProfile(this.user.id).then(function(t){t.data.Result&&(e.state=t.data.Result.Settings,e.setState(e.state))}).catch(function(e){console.log("error"),console.log(e)})}},{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();try{this.sdk.SetSettings(this.user.id,this.state,function(e){console.log("From handle submit callback"),console.log(e),window.location.reload()})}catch(t){console.log("Error retreiving user profile"),console.log(t)}}},{key:"render",value:function(){var e,t;return s.a.createElement("div",{style:{width:"80%",marginLeft:"auto",marginRight:"auto"}},s.a.createElement("h3",null,"Settings Editor"),s.a.createElement(w.a,null,s.a.createElement(w.a.Group,{controlId:"Sex"},s.a.createElement(w.a.Label,null,"Seeking Sex \xa0 "),"M ",s.a.createElement("input",(e={type:"radio",value:"m",checked:this.state.sex&&"m"===this.state.sex?"checked":"",label:"M",name:"sex"},Object(U.a)(e,"value","m"),Object(U.a)(e,"onChange",this.handleChange),e)),"F ",s.a.createElement("input",(t={type:"radio",value:"f",checked:this.state.sex&&"f"===this.state.sex?"checked":"",label:"F",name:"sex"},Object(U.a)(t,"value","f"),Object(U.a)(t,"onChange",this.handleChange),t)),s.a.createElement(w.a.Text,{className:"text-muted"},"How they were born")),s.a.createElement(w.a.Group,{controlId:"Gender"},s.a.createElement(w.a.Label,null,"Seeking Gender \xa0 "),"M ",s.a.createElement("input",{type:"radio",value:"m",checked:this.state.gender&&"m"===this.state.gender?"checked":"",label:"M",name:"gender",onChange:this.handleChange}),"F ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.gender&&"f"===this.state.gender?"checked":"",label:"F",name:"gender",onChange:this.handleChange}),s.a.createElement(w.a.Text,{className:"text-muted"},"How they want to be identified")),s.a.createElement(w.a.Group,{controlId:"Dogs"},s.a.createElement(w.a.Label,null,"Seeking Love Dogs? \xa0 "),"Love Them ",s.a.createElement("input",{type:"radio",value:"t",checked:this.state.dogs&&"t"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),"Not A Fan ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.dogs&&"f"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),"Neutral ",s.a.createElement("input",{type:"radio",value:"n",checked:this.state.dogs&&"n"===this.state.dogs?"checked":"",name:"dogs",onChange:this.handleChange}),s.a.createElement(w.a.Text,{className:"text-muted"},"Do you want someone who loves dogs?")),s.a.createElement(D.a,{variant:"primary",type:"submit",onClick:this.handleSubmit},"Submit")))}}]),t}(k),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={age_from:18,age_to:65},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;function t(e){var t=new Date(e),a=Date.now()-t.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)}this.sdk.GetProfile(this.user.id).then(function(a){if(a.data.Sucess){var n=e.state;(n=a.data.Result.Settings).birthdayfrom&&(n.age_to=t(n.birthdayfrom)),n.birthdayto&&(n.age_from=t(n.birthdayto)),e.setState(n)}}).catch(function(e){console.log("error"),console.log(e)})}},{key:"save",value:function(e){e.preventDefault(),this.sdk.SetSettings(this.user.id,this.getSearchParams()).then(function(e){console.log("From handle submit callback"),console.log(e)}).catch(function(e){console.log("Error setting user settings"),console.log(e)})}},{key:"setStateProp",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:"getSearchParams",value:function(){var e=this,t={};return Object.keys(this.state).map(function(a,n){if(e.state[a]&&"off"!=e.state[a]){if("birthdayfrom"==a||"birthdayto"==a)return;var s;if("age_from"==a)return(s=new Date).setUTCFullYear(s.getUTCFullYear()-parseInt(e.state[a])),void(t.birthdayto=s.getUTCMonth()+"/"+s.getUTCDate()+"/"+s.getUTCFullYear());if("age_to"==a)return(s=new Date).setUTCFullYear(s.getUTCFullYear()-parseInt(e.state[a])),void(t.birthdayfrom=s.getUTCMonth()+"/"+s.getUTCDate()+"/"+s.getUTCFullYear());t[a]=e.state[a]}}),console.log(t),t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,"Filter"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},"Sex"),s.a.createElement("div",{className:"col-8"},"M ",s.a.createElement("input",{type:"radio",value:"m",checked:this.state.sex&&"m"===this.state.sex?"checked":"",label:"M",name:"sex",onChange:function(){return e.setStateProp("sex","m")}}),"F ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.sex&&"f"===this.state.sex?"checked":"",label:"F",name:"sex",onChange:function(){return e.setStateProp("sex","f")}}),"off ",s.a.createElement("input",{type:"radio",value:"off",checked:this.state.sex&&"off"===this.state.sex?"checked":"",label:"Off",name:"sex",onChange:function(){return e.setStateProp("sex","off")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},"Gender"),s.a.createElement("div",{className:"col-8"},"M ",s.a.createElement("input",{type:"radio",value:"m",checked:this.state.gender&&"m"===this.state.gender?"checked":"",label:"M",name:"gender",onChange:function(){return e.setStateProp("gender","m")}}),"F ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.gender&&"f"===this.state.gender?"checked":"",label:"F",name:"gender",onChange:function(){return e.setStateProp("gender","f")}}),"Off ",s.a.createElement("input",{type:"radio",value:"off",checked:this.state.gender&&"off"===this.state.gender?"checked":"",label:"Off",name:"gender",onChange:function(){return e.setStateProp("gender","off")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},"Feelings about dogs"),s.a.createElement("div",{className:"col-8"},"Love Them ",s.a.createElement("input",{type:"radio",value:"t",checked:this.state.dogs&&"t"===this.state.dogs?"checked":"",name:"dogs",onChange:function(){return e.setStateProp("dogs","t")}}),"Not A Fan ",s.a.createElement("input",{type:"radio",value:"f",checked:this.state.dogs&&"f"===this.state.dogs?"checked":"",name:"dogs",onChange:function(){return e.setStateProp("dogs","f")}}),"Neutral ",s.a.createElement("input",{type:"radio",value:"n",checked:this.state.dogs&&"n"===this.state.dogs?"checked":"",name:"dogs",onChange:function(){return e.setStateProp("dogs","n")}}),"Off ",s.a.createElement("input",{type:"radio",value:"off",checked:this.state.dogs&&"off"===this.state.dogs?"checked":"",label:"Off",name:"dogs",onChange:function(){return e.setStateProp("dogs","off")}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"Age From ",s.a.createElement("input",{type:"number",value:this.state.age_from,onChange:function(t){return e.setStateProp("age_from",t.target.value)}})),s.a.createElement("div",{className:"col-6"},"Age To ",s.a.createElement("input",{type:"number",value:this.state.age_to,onChange:function(t){return e.setStateProp("age_to",t.target.value)}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("input",{type:"button",value:"Search",onClick:function(t){var a=e.getSearchParams();e.props.onSearchClick(a)}}),s.a.createElement("input",{type:"button",value:"Save",onClick:function(t){e.save(t)}}))))}}]),t}(k),M=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={PotentialMatches:[],Settings:{}};Object(S.a)(Object(S.a)(a));return a.myRef=s.a.createRef(),new Promise(function(e){if(navigator.geolocation)return navigator.geolocation.getCurrentPosition(e);throw new P("Navigation is not turned on")}).then(function(e){a.sdk.RecordUserLocation(a.user.id,e.coords.latitude,e.coords.longitude).then(function(e){}).catch(function(e){console.log("error"),console.log(e)})}).catch(function(e){console.log("Error in RecordUserLocation"),console.log(e)}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sdk.PotentialMatches(this.user.id).then(function(t){if(console.log("response from get potential matches"),console.log(t),t.data.sucess){var a=e.state;a.PotentialMatches=t.data.result,e.setState(a)}else console.log("ERROR Getting potential matches"),console.log(t)})}},{key:"recordSwipe",value:function(e,t,a){var n=this,s=this;this.sdk.Swipe(this.user.id,t.id,e).then(function(e){if(e.data.sucess){var t=n.state;t.PotentialMatches.splice(a,1),s.setState(t)}})}},{key:"search",value:function(e){var t=this;this.sdk.SearchUsers(this.user.id,e).then(function(e){t.setState({PotentialMatches:e.data.result})})}},{key:"render",value:function(){var e,t=this;return e=navigator.geolocation?s.a.createElement("div",null,s.a.createElement("h3",null,"Search"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-5"},s.a.createElement("div",{className:"row"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(B,{ref:this.myRef,Settings:this.state.Settings,onSearchClick:function(e){t.search(e)}})))),s.a.createElement("div",{className:"col-7"},this.state.PotentialMatches.map(function(e,a){return s.a.createElement("div",{className:"row",key:e.id},s.a.createElement(N,{key:e.id,onSelectNo:function(n){return t.recordSwipe(!1,e,a)},onSelectYes:function(n){return t.recordSwipe(!0,e,a)},UserID:e.id}))})))):s.a.createElement(P,{heading:"No Geolocation",message:"Please Enable Geolocation to search for your Potential Match!"}),s.a.createElement("div",{id:"page"},e)}}]),t}(k),R=a(89),T=a.n(R),x=a(44),L=a(62),G=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleMouseOver=function(){e.setState({style:Object(L.a)({},e.state.style,{borderStyle:"inset"})})},e.handleMouseOut=function(){e.setState({style:Object(L.a)({},e.state.style,{borderStyle:"hidden"})})},e.state={style:{height:175,width:300,border:"3px solid red",borderStyle:"hidden"}},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,src:this.props.image,style:this.state.style}))}}]),t}(n.Component),_=Object(x.SortableContainer)(function(e){return s.a.createElement("div",null,e.images.map(function(e,t){return s.a.createElement(H,{key:e.src,index:t,image:e.src})}))}),H=Object(x.SortableElement)(function(e){return s.a.createElement(G,{image:e.image})}),Y=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;a.setState({images:Object(x.arrayMove)(a.state.images,t,n)})},a.state={images:[]},a.handlesubmitUpload=a.handlesubmitUpload.bind(Object(S.a)(Object(S.a)(a)));var n=Object(S.a)(Object(S.a)(a));return a.sdk.GetUserPhotos(a.user.id).then(function(e){e.data.Sucess&&(n.state.images=[],e.data.Result.Photos.forEach(function(e,t){n.state.images.push({ID:e.ID,src:n.config.ApiBaseUrl+"/api/users/get_photo?userid="+n.user.id+"&filename="+e.FileName,Rank:e.Rank})}),n.setState(n.state))}).catch(function(e){console.log("From get GetUserPhotos ERROR"),console.log(e)}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handlesubmitUpload",value:function(e){e.preventDefault();var t=T()("#file1")[0].files[0],a=new FormData;a.append("files",t),this.sdk.UploadPhoto(a,this.user.id).then(function(e){window.location.reload()}).catch(function(e){console.log("Error posting data to "),console.log(e)})}},{key:"onSaveOrderClick",value:function(){console.log("Clicked Save Order");var e={UserID:this.user.id,Photos:[]};this.state.images.forEach(function(t,a){e.Photos.push({ID:t.ID,Rank:a})}),this.sdk.SetUserPhotos(e).then(function(e){}).catch(function(e){console.log("From SetUserPhotos ERROR"),console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"row"},s.a.createElement("form",{id:"fileinfo",method:"post",encType:"multipart/form-data",action:"api/Users/UploadFiles",onSubmit:this.handlesubmitUpload},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",null,"Upload a photo"),s.a.createElement("input",{type:"file",name:"file",id:"file1",accept:"image/x-png,image/gif,image/jpeg"}),s.a.createElement("input",{type:"submit",value:"Upload",id:"uploadBTN"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("input",{type:"submit",className:"button",value:"Save Order",onClick:function(){e.onSaveOrderClick()}})))),s.a.createElement("div",{className:"col-4"},s.a.createElement(_,{images:this.state.images,onSortEnd:this.onSortEnd})))))}}]),t}(k),z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={images:[]},a.props=e,a.state={images:[],User:{Profile:[]}},a.config=new f,a.sdk=new g(a.config),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sdk.GetUser({UserID:this.props.UserID,IncludeProfile:!0,IncludePhotos:!0,IncludeReviews:!0}).then(function(t){console.log("response"),console.log(t),t.data.Sucess&&(e.state.images=[],t.data.Result.Photos.forEach(function(t,a){e.state.images.push({ID:t.ID,src:e.config.ApiBaseUrl+"/api/users/get_photo?id="+t.ID,Rank:t.Rank})}),e.state.User=t.data.Result,e.setState(e.state))}).catch(function(e){console.log("From get Photos ERROR"),console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,this.state.User.UserName),s.a.createElement("div",{className:"image_container"},s.a.createElement("img",{src:this.state.images[0]})),s.a.createElement("div",null,s.a.createElement("ul",null,Object.keys(this.state.User.Profile).map(function(t,a){return s.a.createElement("li",null,t," : ",e.state.User.Profile[t])}))),s.a.createElement("a",{href:"messaging/"+this.state.User.ID},"Message"),s.a.createElement("a",{href:"reviews/"+this.state.User.ID},"Reviews"))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={matches:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this),this.sdk.GetUserMatches(this.user.id).then(function(t){var a={};a.matches=t.data.result,e.setState(a)}).catch(function(e){console.log("Matches Error"),console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Matches"),s.a.createElement("ul",null,this.state.matches.map(function(e,t){return s.a.createElement("li",null,s.a.createElement("div",null,s.a.createElement(z,{UserID:e.id})))})))}}]),t}(k),W=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={Messages:[]};var n=a.props.match.params.userid;return a.toUserId=n,a.connection=null,a.registerConversation=a.registerConversation.bind(Object(S.a)(Object(S.a)(a))),a.sendMessage=a.sendMessage.bind(Object(S.a)(Object(S.a)(a))),a.addMessageToDisplay=a.addMessageToDisplay.bind(Object(S.a)(Object(S.a)(a))),a.unRegisterConversation=a.unRegisterConversation.bind(Object(S.a)(Object(S.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sdk.ReadMessages(this.user.id,this.toUserId).then(function(t){t.data.sucess&&(e.state.Messages=t.data.result.messages,e.setState(e.state))}).catch(function(e){console.log("From get Photos ERROR"),console.log(e)});var t=a(55);this.connection=(new t.HubConnectionBuilder).withUrl("https://localhost:44387/chatHub").configureLogging(t.LogLevel.Information).build(),this.connection.on("ReceiveMessage",function(t,a,n){console.log("On ReceiveMessage"),console.log("from: "+t+"; to: "+a+"; message: "+n);var s=e.state;s.Messages.push({id:"some id",message:n}),e.setState(s)}),this.connection.on("RegisterComplete",function(e){console.log("On RegisterComplete"),console.log(e)}),this.connection.start().then(function(){console.log("Connected"),e.registerConversation()}).catch(function(e){console.log("connection start error"),console.log(e)})}},{key:"addMessageToDisplay",value:function(e){var t=document.getElementById("messages"),a=document.createElement("li");a.appendChild(document.createTextNode(e)),t.appendChild(a)}},{key:"registerConversation",value:function(){this.user.id&&this.toUserId&&this.connection.invoke("RegisterConversation",this.user.id,this.toUserId).then(function(){console.log("RegisterConversation Success")}).catch(function(e){console.log("RegisterConversation Error"),console.log(e)})}},{key:"unRegisterConversation",value:function(){this.user.id&&this.toUserId&&this.connection.invoke("UnRegisterConversation",this.user.id,this.toUserId).then(function(){console.log("UnRegisterConversation Success")}).catch(function(e){console.log("UnRegisterConversation Error"),console.log(e)})}},{key:"sendMessage",value:function(){console.log("sending message"),console.log(this.state);var e=document.getElementById("message").value;this.user.id&&this.toUserId&&e&&this.connection.invoke("SendMessage",this.user.id,this.toUserId,e).then(function(e){console.log("SendMessage Success")}).catch(function(e){console.log("SendMessage Error"),console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"Messaging to User ",this.toUserId),s.a.createElement("ul",{id:"messages"},this.state.Messages.map(function(e,t){return s.a.createElement("li",{key:e.id},e.message)})),s.a.createElement("textarea",{id:"message"}),s.a.createElement("br",null),s.a.createElement("input",{type:"button",value:"Send",onClick:function(){return e.sendMessage()}}))}}]),t}(k),K=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e)),console.log("Review Editor"),console.log(a.props),a.state={ToUserId:a.props.ToUserId,BadgeOptions:[],BadgeSelections:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sdk.Get("/api/reviews/get_client_badges").then(function(t){if(t.data.result.sucess){var a=e.state;a.BadgeOptions=t.data.result.result,e.setState(a)}}).catch(function(e){console.log("Getiting client badges CATCH"),console.log(e)})}},{key:"handleChange",value:function(e,t){if(e.target.checked){(a=this.state).BadgeSelections.push(t),this.setState(a)}else{var a,n=(a=this.state).BadgeSelections.filter(function(e,a,n){return e.id!=t.id});a.BadgeSelections=n,this.setState(a)}}},{key:"handleSubmit",value:function(){console.log("handling submit"),new g(new f).Post("/api/reviews/send",{SenderID:this.user.id,ReceiverID:this.state.ToUserId,Badges:this.state.BadgeSelections}).then(function(e){console.log(e),e.data.result.sucess&&console.log("success")}).catch(function(e){console.log("Getiting client badges CATCH"),console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,"Add a Review of ",this.state.ToUserId),this.state.BadgeOptions.map(function(t,a){return s.a.createElement("div",{key:t.id},s.a.createElement("span",null,t.name),s.a.createElement("input",{type:"checkbox",name:"badges",key:t.id,onClick:function(a){return e.handleChange(a,t)}}))}),s.a.createElement("div",null,s.a.createElement("input",{type:"submit",onClick:function(t){return e.handleSubmit()}})))}}]),t}(k),V=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e)),console.log("Reviews"),console.log(a.props),a.state={ToUserId:"",BadgesAndCount:[]};var n=a.props.match.params.userid;return a.state.ToUserId=n,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("Component did mount");var e=this;this.sdk.Get("/api/reviews/get_review?userid="+this.state.ToUserId).then(function(t){if(console.log("response"),console.log(t),t.data.sucess){console.log("Success balls");var a=e.state;a.BadgesAndCount=t.data.result.badgesTable,e.setState(a),console.log("this.state 1"),console.log(e.state)}}).catch(function(e){console.log("Getiting client badges CATCH"),console.log(e)}),console.log("this.state 2"),console.log(this.state)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,"Reviews of ",this.state.ToUserId),s.a.createElement("div",{className:"reviewBoard"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("th",null,"Badge"),s.a.createElement("th",null,"Count")),s.a.createElement("tbody",null,this.state.BadgesAndCount.map(function(e,t){return s.a.createElement("tr",{key:e.id},s.a.createElement("td",{key:""},e.name),s.a.createElement("td",{key:""},e.count))})))),s.a.createElement("div",{className:"addReview"},s.a.createElement(K,{ToUserId:this.state.ToUserId})))}}]),t}(k),$=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return e=this.login.isLoggedIn()?s.a.createElement("div",{id:"body",style:{display:"block"}},s.a.createElement(E.a,{path:"/profile_editor",component:F}),s.a.createElement(E.a,{path:"/search",component:M}),s.a.createElement(E.a,{path:"/matches",component:J}),s.a.createElement(E.a,{path:"/messaging/:userid",component:W}),s.a.createElement(E.a,{path:"/reviews/:userid",component:V}),s.a.createElement(E.a,{path:"/settings",component:A}),s.a.createElement(E.a,{path:"/myphotos",component:Y}),s.a.createElement(E.a,{path:"/lab",component:j})):s.a.createElement("div",{id:"body",style:{display:"block"}},s.a.createElement("h1",null,"Jessie, I Love you!!!!"),s.a.createElement(E.a,{path:"/",render:function(){return s.a.createElement(I,{message:"You don't have to pay me, but you do have to log in"})}})),s.a.createElement("div",{className:"App"},s.a.createElement(O,null),s.a.createElement(b.a,null,e))}}]),t}(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){e.exports=a(154)},98:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[93,1,2]]]);
//# sourceMappingURL=main.4375e45a.chunk.js.map